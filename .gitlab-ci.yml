before_script:
  - . ~/.nvm/nvm.sh
  - nvm use 8.9.4

cache:
  paths:
    - node_modules/

stages:
  - test
  - deploy

lintear:
  stage: test
  script:
    - npm install
    - npm run lint

deploy_desarrollo:
  stage: deploy
  script:
    - npm install
    - npm run build
    - rsync -rlDv --delete * /software/trakapp/frontend/
  environment:
    name: desarrollo
    url: trakapp.ciriscr.com
  only:
  - desarrollo
